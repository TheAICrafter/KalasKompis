<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KalasKompis - Test</title>
    <style>
        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #fdf2f8 0%, #f3e8ff 50%, #eff6ff 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
        }
        .header {
            text-align: center;
            margin-bottom: 40px;
        }
        .title {
            font-size: 3rem;
            font-weight: bold;
            background: linear-gradient(45deg, #ec4899, #8b5cf6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }
        .subtitle {
            color: #6b7280;
            font-size: 1.2rem;
        }
        .form-section {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        .form-label {
            font-size: 1.2rem;
            font-weight: 600;
            color: #374151;
            margin-bottom: 15px;
            display: block;
        }
        .form-input {
            width: 100%;
            padding: 15px;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            font-size: 1.1rem;
            box-sizing: border-box;
        }
        .form-input:focus {
            outline: none;
            border-color: #ec4899;
        }
        .interests-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        .interest-btn {
            padding: 15px;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            background: white;
            cursor: pointer;
            text-align: center;
            transition: all 0.2s;
        }
        .interest-btn:hover {
            border-color: #ec4899;
            transform: translateY(-2px);
        }
        .interest-btn.selected {
            border-color: #ec4899;
            background: #fce7f3;
        }
        .interest-icon {
            font-size: 2rem;
            margin-bottom: 8px;
        }
        .interest-label {
            font-weight: 600;
            color: #374151;
        }
        .submit-btn {
            width: 100%;
            padding: 20px;
            background: linear-gradient(45deg, #ec4899, #8b5cf6);
            color: white;
            border: none;
            border-radius: 16px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(236, 72, 153, 0.3);
        }
        .submit-btn:disabled {
            background: #9ca3af;
            cursor: not-allowed;
            transform: none;
        }
        .results {
            display: none;
        }
        .results.show {
            display: block;
        }
        .result-section {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        .loading {
            text-align: center;
            padding: 60px 20px;
            display: none;
        }
        .loading.show {
            display: block;
        }
        .spinner {
            width: 60px;
            height: 60px;
            border: 6px solid #fce7f3;
            border-top: 6px solid #ec4899;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1 class="title">ğŸ‰ KalasKompis âœ¨</h1>
            <p class="subtitle">Din AI-assistent fÃ¶r det perfekta barnkalaset</p>
            <p style="color: #9ca3af;">Planera ett komplett kalas pÃ¥ under 2 minuter!</p>
        </div>

        <!-- Form -->
        <div id="form-container">
            <form id="party-form">
                <!-- Ã…lder -->
                <div class="form-section">
                    <label class="form-label">ğŸ‚ Barnets Ã¥lder</label>
                    <input type="number" class="form-input" id="age" min="1" max="18" placeholder="Ange Ã¥lder..." required>
                </div>

                <!-- Intressen -->
                <div class="form-section">
                    <label class="form-label">â¤ï¸ Barnets intressen (vÃ¤lj minst ett)</label>
                    <div class="interests-grid">
                        <div class="interest-btn" data-interest="dinosaurier">
                            <div class="interest-icon">ğŸ¦•</div>
                            <div class="interest-label">Dinosaurier</div>
                        </div>
                        <div class="interest-btn" data-interest="prinsessor">
                            <div class="interest-icon">ğŸ‘‘</div>
                            <div class="interest-label">Prinsessor</div>
                        </div>
                        <div class="interest-btn" data-interest="minecraft">
                            <div class="interest-icon">â›ï¸</div>
                            <div class="interest-label">Minecraft</div>
                        </div>
                        <div class="interest-btn" data-interest="pyssel">
                            <div class="interest-icon">ğŸ¨</div>
                            <div class="interest-label">Pyssel</div>
                        </div>
                        <div class="interest-btn" data-interest="musik">
                            <div class="interest-icon">ğŸµ</div>
                            <div class="interest-label">Musik</div>
                        </div>
                        <div class="interest-btn" data-interest="dans">
                            <div class="interest-icon">ğŸ’ƒ</div>
                            <div class="interest-label">Dans</div>
                        </div>
                    </div>
                </div>

                <!-- Antal barn -->
                <div class="form-section">
                    <label class="form-label">ğŸ‘¥ Antal barn som bjuds</label>
                    <input type="number" class="form-input" id="guestCount" min="1" max="30" placeholder="Antal barn..." required>
                </div>

                <!-- Budget -->
                <div class="form-section">
                    <label class="form-label">ğŸ’° Budget</label>
                    <div class="interests-grid">
                        <div class="interest-btn" data-budget="lag">
                            <div class="interest-icon">ğŸ’°</div>
                            <div class="interest-label">LÃ¥g budget</div>
                            <div style="font-size: 0.9rem; color: #6b7280;">300-500 kr</div>
                        </div>
                        <div class="interest-btn" data-budget="medel">
                            <div class="interest-icon">ğŸ’¸</div>
                            <div class="interest-label">Medel budget</div>
                            <div style="font-size: 0.9rem; color: #6b7280;">500-1000 kr</div>
                        </div>
                        <div class="interest-btn" data-budget="hog">
                            <div class="interest-icon">ğŸ†</div>
                            <div class="interest-label">HÃ¶g budget</div>
                            <div style="font-size: 0.9rem; color: #6b7280;">1000+ kr</div>
                        </div>
                    </div>
                </div>

                <!-- Plats -->
                <div class="form-section">
                    <label class="form-label">ğŸ“ Var ska kalaset hÃ¥llas?</label>
                    <div class="interests-grid">
                        <div class="interest-btn" data-location="hemma">
                            <div class="interest-icon">ğŸ </div>
                            <div class="interest-label">Hemma</div>
                        </div>
                        <div class="interest-btn" data-location="utomhus">
                            <div class="interest-icon">ğŸŒ³</div>
                            <div class="interest-label">Utomhus</div>
                        </div>
                        <div class="interest-btn" data-location="lokal">
                            <div class="interest-icon">ğŸ¢</div>
                            <div class="interest-label">I lokal</div>
                        </div>
                    </div>
                </div>

                <button type="submit" class="submit-btn" id="submit-btn" disabled>
                    âœ¨ Skapa mitt drÃ¶mkalas! ğŸ‰
                </button>
            </form>
        </div>

        <!-- Loading -->
        <div id="loading" class="loading">
            <div class="spinner"></div>
            <h2 style="color: #374151; margin-bottom: 20px;">Skapar ditt perfekta kalas... âœ¨</h2>
            <div style="color: #6b7280;">
                <p>ğŸ¨ VÃ¤ljer det bÃ¤sta temat...</p>
                <p>ğŸ—“ï¸ Planerar aktiviteter...</p>
                <p>ğŸ§ FÃ¶rbereder menyn...</p>
            </div>
        </div>

        <!-- Results -->
        <div id="results" class="results">
            <div class="result-section">
                <h2 style="color: #374151; margin-bottom: 20px;">ğŸ‰ Ditt DrÃ¶mkalas!</h2>
                <div id="theme-result">
                    <h3 id="theme-name" style="color: #374151; margin-bottom: 10px;"></h3>
                    <p id="theme-description" style="color: #6b7280;"></p>
                </div>
            </div>

            <div class="result-section">
                <h3 style="color: #374151; margin-bottom: 20px;">ğŸ® Aktiviteter</h3>
                <div id="activities-result"></div>
            </div>

            <button onclick="resetForm()" class="submit-btn" style="background: linear-gradient(45deg, #6b7280, #4b5563);">
                â† Planera nytt kalas
            </button>
        </div>
    </div>

    <script>
        let selectedInterests = [];
        let selectedBudget = '';
        let selectedLocation = '';
        
        // Interest selection
        document.querySelectorAll('.interest-btn[data-interest]').forEach(btn => {
            btn.addEventListener('click', () => {
                const interest = btn.dataset.interest;
                if (selectedInterests.includes(interest)) {
                    selectedInterests = selectedInterests.filter(i => i !== interest);
                    btn.classList.remove('selected');
                } else {
                    selectedInterests.push(interest);
                    btn.classList.add('selected');
                }
                checkFormValid();
            });
        });

        // Budget selection
        document.querySelectorAll('.interest-btn[data-budget]').forEach(btn => {
            btn.addEventListener('click', () => {
                // Remove previous selection
                document.querySelectorAll('.interest-btn[data-budget]').forEach(b => b.classList.remove('selected'));
                // Add new selection
                btn.classList.add('selected');
                selectedBudget = btn.dataset.budget;
                checkFormValid();
            });
        });

        // Location selection
        document.querySelectorAll('.interest-btn[data-location]').forEach(btn => {
            btn.addEventListener('click', () => {
                // Remove previous selection
                document.querySelectorAll('.interest-btn[data-location]').forEach(b => b.classList.remove('selected'));
                // Add new selection
                btn.classList.add('selected');
                selectedLocation = btn.dataset.location;
                checkFormValid();
            });
        });

        // Form validation
        function checkFormValid() {
            const age = document.getElementById('age').value;
            const guestCount = document.getElementById('guestCount').value;
            const submitBtn = document.getElementById('submit-btn');
            
            console.log('Validation check:');
            console.log('Age:', age);
            console.log('Interests:', selectedInterests);
            console.log('Guest count:', guestCount);
            console.log('Budget:', selectedBudget);
            console.log('Location:', selectedLocation);
            
            const isValid = !!(age && selectedInterests.length > 0 && guestCount && selectedBudget && selectedLocation);
            console.log('Is valid:', isValid);
            
            if (isValid) {
                submitBtn.disabled = false;
                submitBtn.innerHTML = 'âœ¨ Skapa mitt drÃ¶mkalas! ğŸ‰';
                submitBtn.style.background = 'linear-gradient(45deg, #ec4899, #8b5cf6)';
                submitBtn.style.cursor = 'pointer';
                console.log('Form is valid - button enabled');
            } else {
                submitBtn.disabled = true;
                submitBtn.innerHTML = 'âœ¨ Fyll i alla fÃ¤lt fÃ¶r att fortsÃ¤tta âœ¨';
                submitBtn.style.background = '#9ca3af';
                submitBtn.style.cursor = 'not-allowed';
                console.log('Form is invalid - button disabled');
            }
        }

        document.getElementById('age').addEventListener('input', checkFormValid);
        document.getElementById('guestCount').addEventListener('input', checkFormValid);

        // Form submission
        document.getElementById('party-form').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            // Show loading
            document.getElementById('form-container').style.display = 'none';
            document.getElementById('loading').classList.add('show');
            
            // Simulate AI processing
            await new Promise(resolve => setTimeout(resolve, 3000));
            
            // Generate results
            generateResults();
            
            // Show results
            document.getElementById('loading').classList.remove('show');
            document.getElementById('results').classList.add('show');
        });

        function generateResults() {
            const primaryInterest = selectedInterests[0];
            
            const themes = {
                'dinosaurier': {
                    name: 'ğŸ¦• Jurassic Adventure',
                    description: 'En spÃ¤nnande resa till dinosauriernas vÃ¤rld med fossil-grÃ¤vning och dino-Ã¤ventyr!'
                },
                'prinsessor': {
                    name: 'ğŸ‘‘ Magisk Prinsessbal',
                    description: 'Ett kungligt kalas med glitter, kronor och sagolika Ã¤ventyr!'
                },
                'minecraft': {
                    name: 'â›ï¸ Blocky Builder Adventure',
                    description: 'Bygg, utforska och skapa i en kubisk vÃ¤rld full av Ã¤ventyr!'
                },
                'musik': {
                    name: 'ğŸµ Musikalisk Magi',
                    description: 'Ett rytmiskt kalas fyllt med sÃ¥ng, musik och kreativitet!'
                },
                'dans': {
                    name: 'ğŸ’ƒ Dansparti Deluxe',
                    description: 'Ett energifyllt kalas med musik, dans och rÃ¶relse!'
                }
            };

            const activities = {
                'dinosaurier': [
                    { name: 'Paleontolog-fossil-grÃ¤vning', description: 'GrÃ¤v fram dinosauriefossil i sandlÃ¥dan!', duration: '25 min' },
                    { name: 'JÃ¤ttedino-Ã¤ggsjakt', description: 'Hitta gÃ¶mda dinosaurieÃ¤gg runt omkring', duration: '20 min' },
                    { name: 'Vulkan-experiment', description: 'Bygg vulkaner som "exploderar" sÃ¤kert', duration: '30 min' }
                ],
                'minecraft': [
                    { name: 'Bygg Minecraft-vÃ¤rld', description: 'AnvÃ¤nd kartonger och Lego fÃ¶r att skapa strukturer', duration: '35 min' },
                    { name: 'Creeper-kurragÃ¶mma', description: 'Rolig variant av kurragÃ¶mma med ballonger', duration: '20 min' },
                    { name: 'Redstone-pussel', description: 'Logikpussel inspirerat av Minecraft', duration: '25 min' }
                ],
                'musik': [
                    { name: 'Instrumentmaking', description: 'GÃ¶r instrument av Ã¥tervinning', duration: '30 min' },
                    { name: 'Melodisk skattjakt', description: 'Musik-baserad skattjakt', duration: '25 min' },
                    { name: 'Kalas-orkester', description: 'Sjung tillsammans med hemmagjorda instrument', duration: '20 min' }
                ],
                'dans': [
                    { name: 'Koreografi-workshop', description: 'LÃ¤r er danssteg och skapa gruppkoreografi', duration: '30 min' },
                    { name: 'Stoppdans-utmaning', description: 'Musical chairs med dansteman', duration: '20 min' },
                    { name: 'Dans-battle', description: 'VÃ¤nlig tÃ¤vling med coola moves', duration: '25 min' }
                ]
            };

            const theme = themes[primaryInterest] || {
                name: 'ğŸ‰ Magisk FÃ¶delsedagsÃ¤ventyr',
                description: 'Ett personligt kalas anpassat efter barnets intressen!'
            };

            const activityList = activities[primaryInterest] || [
                { name: 'Temabaserad skattjakt', description: 'Anpassad efter barnets intressen', duration: '25 min' },
                { name: 'Kreativ workshop', description: 'Skapa nÃ¥got kul att ta hem', duration: '30 min' }
            ];

            // Display results
            document.getElementById('theme-name').textContent = theme.name;
            document.getElementById('theme-description').textContent = theme.description;

            const activitiesContainer = document.getElementById('activities-result');
            activitiesContainer.innerHTML = '';
            
            activityList.forEach(activity => {
                const activityDiv = document.createElement('div');
                activityDiv.style.cssText = 'background: #f3e8ff; padding: 20px; border-radius: 12px; margin-bottom: 15px;';
                activityDiv.innerHTML = `
                    <h4 style="color: #374151; margin: 0 0 10px 0; font-weight: 600;">${activity.name}</h4>
                    <p style="color: #6b7280; margin: 0 0 10px 0;">${activity.description}</p>
                    <span style="color: #8b5cf6; font-weight: 600; font-size: 0.9rem;">â±ï¸ ${activity.duration}</span>
                `;
                activitiesContainer.appendChild(activityDiv);
            });
        }

        function resetForm() {
            document.getElementById('results').classList.remove('show');
            document.getElementById('form-container').style.display = 'block';
            
            // Reset form
            document.getElementById('party-form').reset();
            selectedInterests = [];
            selectedBudget = '';
            document.querySelectorAll('.interest-btn').forEach(btn => btn.classList.remove('selected'));
            checkFormValid();
        }
    </script>
</body>
</html>
