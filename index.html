<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kalaskollen</title>
    <style>
        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            min-height: 100vh;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 20px;
        }
        .logo {
            font-size: 3rem;
            font-weight: bold;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }
        .tagline {
            font-size: 1.2rem;
            color: #666;
            margin-bottom: 5px;
        }
        .subtitle {
            color: #888;
        }
        .form-section {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        .section-title {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 20px;
            color: #333;
        }
        .input-field {
            width: 100%;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 1.1rem;
            margin-bottom: 10px;
            box-sizing: border-box;
        }
        .input-field:focus {
            outline: none;
            border-color: #ff6b6b;
        }
        .interests-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        .interest-card {
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            background: white;
            position: relative;
        }
        .interest-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        .interest-card.selected {
            border-color: #ff6b6b;
            background: #ffe5e5;
        }
        .interest-card.premium {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .interest-card.premium .lock-icon {
            position: absolute;
            top: 5px;
            right: 5px;
            font-size: 1rem;
        }
        .interest-emoji {
            font-size: 2rem;
            margin-bottom: 8px;
            display: block;
        }
        .interest-name {
            font-weight: 600;
            font-size: 0.9rem;
        }
        .theme-categories {
            margin-bottom: 20px;
        }
        .category-header {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 15px;
            padding: 10px 0;
            border-bottom: 2px solid #eee;
        }
        .free-themes {
            color: #28a745;
        }
        .premium-themes {
            color: #6f42c1;
        }
        .budget-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }
        .budget-card {
            padding: 20px;
            border: 2px solid #ddd;
            border-radius: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            background: white;
        }
        .budget-card:hover {
            transform: translateY(-2px);
        }
        .budget-card.selected {
            border-color: #ff6b6b;
            background: #ffe5e5;
        }
        .location-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
        }
        .location-card {
            padding: 20px;
            border: 2px solid #ddd;
            border-radius: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            background: white;
        }
        .location-card:hover {
            transform: translateY(-2px);
        }
        .location-card.selected {
            border-color: #ff6b6b;
            background: #ffe5e5;
        }
        .submit-btn {
            width: 100%;
            padding: 20px;
            font-size: 1.3rem;
            font-weight: bold;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 30px;
        }
        .submit-btn.enabled {
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            color: white;
        }
        .submit-btn.enabled:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }
        .submit-btn.disabled {
            background: #ccc;
            color: #666;
            cursor: not-allowed;
        }
        .loading {
            text-align: center;
            padding: 60px 20px;
        }
        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 6px solid #f3f3f3;
            border-top: 6px solid #ff6b6b;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .results {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        .result-section {
            margin-bottom: 40px;
            padding: 25px;
            background: #f8f9fa;
            border-radius: 15px;
            border-left: 5px solid #ff6b6b;
        }
        .result-section h3 {
            color: #333;
            margin-bottom: 20px;
            font-size: 1.4rem;
        }
        .activity-item {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        .activity-name {
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }
        .activity-description {
            color: #666;
            margin-bottom: 10px;
            line-height: 1.5;
        }
        .activity-instructions {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            border-left: 4px solid #2196f3;
        }
        .activity-materials {
            background: #f3e5f5;
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            font-size: 0.9rem;
        }
        .activity-duration {
            color: #ff6b6b;
            font-weight: 600;
            font-size: 0.9rem;
        }
        .invitation-box {
            background: #fff3cd;
            border: 2px dashed #ffc107;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            position: relative;
        }
        .copy-btn {
            background: #28a745;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 0.8rem;
        }
        .copy-btn:hover {
            background: #218838;
        }
        .food-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .price-tag {
            font-size: 1.2rem;
        }
        .accessories-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 10px;
        }
        .new-party-btn {
            background: linear-gradient(45deg, #28a745, #20c997);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            margin-top: 30px;
            width: 100%;
        }
        .new-party-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        .premium-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        .premium-modal-content {
            background: white;
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            max-width: 500px;
            margin: 20px;
        }
        .premium-modal h3 {
            color: #6f42c1;
            margin-bottom: 20px;
        }
        .premium-features {
            text-align: left;
            margin: 20px 0;
        }
        .premium-features li {
            margin-bottom: 10px;
            color: #28a745;
        }
        .upgrade-btn {
            background: linear-gradient(45deg, #6f42c1, #e83e8c);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            margin: 10px;
        }
        .close-modal-btn {
            background: #6c757d;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 10px;
        }
        .confirmation-message {
            background: #d4edda;
            color: #155724;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            border: 1px solid #c3e6cb;
        }
        .hidden {
            display: none;
        }
        @media (max-width: 768px) {
            .interests-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            .budget-grid {
                grid-template-columns: 1fr;
            }
            .location-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo">üéâ Kalaskollen</div>
            <div class="tagline">F√∂r√§ldralugnet b√∂rjar h√§r.</div>
            <div class="subtitle">Din AI-assistent f√∂r det perfekta barnkalaset</div>
        </div>

        <!-- Form -->
        <div id="form-container">
            <div class="form-section">
                <div class="section-title">üéÇ Barnets √•lder</div>
                <input type="number" class="input-field" id="age" placeholder="Ange √•lder..." min="1" max="18">
            </div>

            <div class="form-section">
                <div class="section-title">‚ù§Ô∏è Barnets intressen</div>
                <div class="theme-categories">
                    <div class="category-header free-themes">üÜì Gratis teman</div>
                    <div class="interests-grid" id="free-themes">
                        <div class="interest-card" data-theme="musik">
                            <span class="interest-emoji">üéµ</span>
                            <div class="interest-name">Musik</div>
                        </div>
                        <div class="interest-card" data-theme="prinsessor">
                            <span class="interest-emoji">üëë</span>
                            <div class="interest-name">Prinsessor</div>
                        </div>
                        <div class="interest-card" data-theme="pyssel">
                            <span class="interest-emoji">üé®</span>
                            <div class="interest-name">Pyssel</div>
                        </div>
                        <div class="interest-card" data-theme="fotboll">
                            <span class="interest-emoji">‚öΩ</span>
                            <div class="interest-name">Fotboll</div>
                        </div>
                        <div class="interest-card" data-theme="superhjaltar">
                            <span class="interest-emoji">ü¶∏</span>
                            <div class="interest-name">Superhj√§ltar</div>
                        </div>
                    </div>

                    <div class="category-header premium-themes">üîí Premium teman</div>
                    <div class="interests-grid" id="premium-themes">
                        <div class="interest-card premium" data-theme="minecraft">
                            <span class="lock-icon">üîí</span>
                            <span class="interest-emoji">‚õèÔ∏è</span>
                            <div class="interest-name">Minecraft</div>
                        </div>
                        <div class="interest-card premium" data-theme="dans">
                            <span class="lock-icon">üîí</span>
                            <span class="interest-emoji">üíÉ</span>
                            <div class="interest-name">Dans</div>
                        </div>
                        <div class="interest-card premium" data-theme="bilar">
                            <span class="lock-icon">üîí</span>
                            <span class="interest-emoji">üöó</span>
                            <div class="interest-name">Bilar</div>
                        </div>
                        <div class="interest-card premium" data-theme="djur">
                            <span class="lock-icon">üîí</span>
                            <span class="interest-emoji">üê®</span>
                            <div class="interest-name">Djur</div>
                        </div>
                        <div class="interest-card premium" data-theme="rymden">
                            <span class="lock-icon">üîí</span>
                            <span class="interest-emoji">üöÄ</span>
                            <div class="interest-name">Rymden</div>
                        </div>
                        <div class="interest-card premium" data-theme="hastar">
                            <span class="lock-icon">üîí</span>
                            <span class="interest-emoji">üê¥</span>
                            <div class="interest-name">H√§star</div>
                        </div>
                        <div class="interest-card premium" data-theme="poliser">
                            <span class="lock-icon">üîí</span>
                            <span class="interest-emoji">üëÆ</span>
                            <div class="interest-name">Poliser</div>
                        </div>
                        <div class="interest-card premium" data-theme="dinosaurier">
                            <span class="lock-icon">üîí</span>
                            <span class="interest-emoji">ü¶ï</span>
                            <div class="interest-name">Dinosaurier</div>
                        </div>
                    </div>
                </div>
                <div id="theme-confirmation" class="confirmation-message hidden"></div>
            </div>

            <div class="form-section">
                <div class="section-title">üë• Antal barn som bjuds</div>
                <input type="number" class="input-field" id="guestCount" placeholder="Antal barn..." min="1" max="30">
            </div>

            <div class="form-section">
                <div class="section-title">üí∞ Budget</div>
                <div class="budget-grid">
                    <div class="budget-card" data-budget="lag">
                        <div style="font-size: 2rem; margin-bottom: 10px;">üí∞</div>
                        <div style="font-weight: bold;">L√•g budget</div>
                        <div style="color: #666;">300-500 kr</div>
                    </div>
                    <div class="budget-card" data-budget="medel">
                        <div style="font-size: 2rem; margin-bottom: 10px;">üí∏</div>
                        <div style="font-weight: bold;">Medel budget</div>
                        <div style="color: #666;">500-1000 kr</div>
                    </div>
                    <div class="budget-card" data-budget="hog">
                        <div style="font-size: 2rem; margin-bottom: 10px;">üèÜ</div>
                        <div style="font-weight: bold;">H√∂g budget</div>
                        <div style="color: #666;">1000+ kr</div>
                    </div>
                </div>
            </div>

            <div class="form-section">
                <div class="section-title">üìç Var ska kalaset h√•llas?</div>
                <div class="location-grid">
                    <div class="location-card" data-location="hemma">
                        <div style="font-size: 2rem; margin-bottom: 10px;">üè†</div>
                        <div style="font-weight: bold;">Hemma</div>
                    </div>
                    <div class="location-card" data-location="utomhus">
                        <div style="font-size: 2rem; margin-bottom: 10px;">üå≥</div>
                        <div style="font-weight: bold;">Utomhus</div>
                    </div>
                    <div class="location-card" data-location="lokal">
                        <div style="font-size: 2rem; margin-bottom: 10px;">üè¢</div>
                        <div style="font-weight: bold;">I lokal</div>
                    </div>
                </div>
            </div>

            <div class="form-section">
                <div class="section-title">üçΩÔ∏è Matpreferenser (valfritt)</div>
                <textarea class="input-field" id="foodPrefs" placeholder="T.ex. vegetariskt, allergier..." rows="3"></textarea>
            </div>

            <button class="submit-btn disabled" id="submit-btn">
                ‚ú® Skapa mitt dr√∂mkalas! üéâ
            </button>
        </div>

        <!-- Loading -->
        <div id="loading-container" class="hidden">
            <div class="loading">
                <div class="loading-spinner"></div>
                <h2>Skapar ditt perfekta kalas... ‚ú®</h2>
                <div style="color: #666;">
                    <p>üé® V√§ljer tema...</p>
                    <p>üé≤ Planerar aktiviteter...</p>
                    <p>üßÅ F√∂rbereder meny...</p>
                </div>
            </div>
        </div>

        <!-- Results -->
        <div id="results-container" class="hidden">
            <div class="results">
                <h1 style="text-align: center; color: #333; margin-bottom: 40px;">üéâ Ditt dr√∂mkalas √§r klart!</h1>
                
                <div class="result-section">
                    <h3 id="theme-title">üéà Tema</h3>
                    <div id="theme-content"></div>
                </div>

                <div class="result-section">
                    <h3>üé≤ Lekf√∂rslag</h3>
                    <div id="activities-content"></div>
                </div>

                <div class="result-section">
                    <h3>üíå Inbjudningstext</h3>
                    <div id="invitation-content"></div>
                </div>

                <div class="result-section">
                    <h3>üßÅ Fika & matf√∂rslag</h3>
                    <div id="food-content"></div>
                </div>

                <div class="result-section">
                    <h3>üõçÔ∏è Tillbeh√∂r & dekorationer</h3>
                    <div id="accessories-content"></div>
                </div>

                <button class="new-party-btn" onclick="resetForm()">‚Üê Planera nytt kalas</button>
            </div>
        </div>

        <!-- Premium Modal -->
        <div id="premium-modal" class="premium-modal hidden">
            <div class="premium-modal-content">
                <h3>üîí Detta tema ing√•r i Kalaskollen Premium</h3>
                <p>L√•s upp fler teman, extra AI-inneh√•ll och obegr√§nsade inbjudningar.</p>
                <ul class="premium-features">
                    <li>‚úÖ Tillg√•ng till alla teman</li>
                    <li>‚úÖ Extra lekar, inbjudningar och fikaid√©er</li>
                    <li>‚úÖ Obegr√§nsat antal SMS/mail</li>
                    <li>‚úÖ Prioritetsupport</li>
                </ul>
                <button class="upgrade-btn" onclick="upgradeToPremium()">Uppgradera till Premium</button>
                <button class="close-modal-btn" onclick="closePremiumModal()">St√§ng</button>
            </div>
        </div>
    </div>

    <script>
        // Global state
        let formData = {
            age: '',
            theme: '',
            guestCount: '',
            budget: '',
            location: '',
            foodPrefs: ''
        };

        let isPremium = localStorage.getItem('kalaskollen-premium') === 'true';
        let currentInvitationIndex = 0;

        // Premium themes
        const premiumThemes = ['minecraft', 'dans', 'bilar', 'djur', 'rymden', 'hastar', 'poliser', 'dinosaurier'];

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            initializeEventListeners();
            updatePremiumAccess();
        });

        function initializeEventListeners() {
            // Age input
            document.getElementById('age').addEventListener('input', function(e) {
                formData.age = e.target.value;
                validateForm();
            });

            // Guest count input
            document.getElementById('guestCount').addEventListener('input', function(e) {
                formData.guestCount = e.target.value;
                validateForm();
            });

            // Food preferences
            document.getElementById('foodPrefs').addEventListener('input', function(e) {
                formData.foodPrefs = e.target.value;
            });

            // Theme selection
            document.querySelectorAll('.interest-card').forEach(card => {
                card.addEventListener('click', function() {
                    const theme = this.dataset.theme;
                    const isPremiumTheme = premiumThemes.includes(theme);
                    
                    if (isPremiumTheme && !isPremium) {
                        showPremiumModal();
                        return;
                    }
                    
                    selectTheme(theme);
                });
            });

            // Budget selection
            document.querySelectorAll('.budget-card').forEach(card => {
                card.addEventListener('click', function() {
                    document.querySelectorAll('.budget-card').forEach(c => c.classList.remove('selected'));
                    this.classList.add('selected');
                    formData.budget = this.dataset.budget;
                    validateForm();
                });
            });

            // Location selection
            document.querySelectorAll('.location-card').forEach(card => {
                card.addEventListener('click', function() {
                    document.querySelectorAll('.location-card').forEach(c => c.classList.remove('selected'));
                    this.classList.add('selected');
                    formData.location = this.dataset.location;
                    validateForm();
                });
            });

            // Submit button
            document.getElementById('submit-btn').addEventListener('click', function() {
                if (isFormValid()) {
                    generateParty();
                }
            });
        }

        function selectTheme(theme) {
            document.querySelectorAll('.interest-card').forEach(c => c.classList.remove('selected'));
            document.querySelector(`[data-theme="${theme}"]`).classList.add('selected');
            formData.theme = theme;
            
            const confirmation = document.getElementById('theme-confirmation');
            const emoji = document.querySelector(`[data-theme="${theme}"] .interest-emoji`).textContent;
            const name = document.querySelector(`[data-theme="${theme}"] .interest-name`).textContent;
            
            confirmation.textContent = `Temat ${emoji} ${name} √§r valt! AI:n anpassar nu lekar, inbjudningar och kalasid√©er.`;
            confirmation.classList.remove('hidden');
            
            validateForm();
        }

        function validateForm() {
            const isValid = formData.age && formData.theme && formData.guestCount && formData.budget && formData.location;
            const submitBtn = document.getElementById('submit-btn');
            
            if (isValid) {
                submitBtn.classList.remove('disabled');
                submitBtn.classList.add('enabled');
            } else {
                submitBtn.classList.remove('enabled');
                submitBtn.classList.add('disabled');
            }
        }

        function isFormValid() {
            return formData.age && formData.theme && formData.guestCount && formData.budget && formData.location;
        }

        function generateParty() {
            document.getElementById('form-container').classList.add('hidden');
            document.getElementById('loading-container').classList.remove('hidden');

            setTimeout(() => {
                generateContent();
                document.getElementById('loading-container').classList.add('hidden');
                document.getElementById('results-container').classList.remove('hidden');
            }, 3000);
        }

        function generateContent() {
            const age = parseInt(formData.age);
            const theme = formData.theme;
            const budget = formData.budget;
            
            // Generate theme content
            generateThemeContent(theme);
            
            // Generate activities
            generateActivities(theme, age);
            
            // Generate invitation
            generateInvitation(theme);
            
            // Generate food suggestions
            generateFoodSuggestions(theme, budget);
            
            // Generate accessories
            generateAccessories(theme, budget);
        }

        function generateThemeContent(theme) {
            const themes = {
                musik: {
                    name: 'Musikalisk magi',
                    description: 'Ett rytmiskt kalas fyllt av musik, dans och kreativitet d√§r barnen f√•r utforska ljud och melodier!',
                    emoji: 'üéµ'
                },
                prinsessor: {
                    name: 'Magisk prinsessbal',
                    description: 'Ett kungligt kalas med glitter, kronor och √§ventyr i sagolandet!',
                    emoji: 'üëë'
                },
                pyssel: {
                    name: 'Kreativa verkstan',
                    description: 'Ett kalas d√§r fantasin f√•r fl√∂da fritt genom pysslande och skapande!',
                    emoji: 'üé®'
                },
                fotboll: {
                    name: 'Fotbollsfest',
                    description: 'Ett energifyllt kalas med fotbollsaktiviteter och lagk√§nsla!',
                    emoji: '‚öΩ'
                },
                superhjaltar: {
                    name: 'Superhj√§lte akademi',
                    description: 'Tr√§na era superkrafter och r√§dda v√§rlden tillsammans!',
                    emoji: 'ü¶∏'
                },
                minecraft: {
                    name: 'Blocky builder adventure',
                    description: 'Bygg, utforska och skapa i Minecraft-v√§rlden!',
                    emoji: '‚õèÔ∏è'
                },
                dans: {
                    name: 'Dansparti deluxe',
                    description: 'Ett energifyllt kalas med dans, musik och show!',
                    emoji: 'üíÉ'
                },
                bilar: {
                    name: 'Racing championship',
                    description: 'K√∂r fort och ha kul med bilar och racing!',
                    emoji: 'üöó'
                },
                djur: {
                    name: 'Djur√§ventyr',
                    description: 'Utforska djurriket och l√§r er om olika djur!',
                    emoji: 'üê®'
                },
                rymden: {
                    name: 'Rymd√§ventyr',
                    description: 'Res till rymden och utforska planeter och stj√§rnor!',
                    emoji: 'üöÄ'
                },
                hastar: {
                    name: 'H√§st och ridning',
                    description: 'Allt om h√§star, ridning och stalliv!',
                    emoji: 'üê¥'
                },
                poliser: {
                    name: 'Polisstation',
                    description: 'L√∂s mysterier och h√•ll ordning som riktiga poliser!',
                    emoji: 'üëÆ'
                },
                dinosaurier: {
                    name: 'Jurassic adventure',
                    description: 'Uppt√§ck dinosauriernas v√§rld och bli paleontologer!',
                    emoji: 'ü¶ï'
                }
            };

            const themeData = themes[theme];
            const content = `
                <div style="text-align: center; padding: 20px;">
                    <div style="font-size: 4rem; margin-bottom: 15px;">${themeData.emoji}</div>
                    <h2 style="color: #ff6b6b; margin-bottom: 10px;">${themeData.name}</h2>
                    <p style="font-size: 1.1rem; color: #666;">${themeData.description}</p>
                </div>
            `;
            
            document.getElementById('theme-content').innerHTML = content;
            document.getElementById('theme-title').innerHTML = `${themeData.emoji} ${themeData.name}`;
        }

        function generateActivities(theme, age) {
            const activities = getActivitiesForTheme(theme, age, formData.location);
            
            let html = '';
            activities.forEach(activity => {
                html += `
                    <div class="activity-item">
                        <div class="activity-name">${activity.name}</div>
                        <div class="activity-description">${activity.description}</div>
                        <div class="activity-instructions">
                            <strong>üìã Instruktioner:</strong><br>
                            ${activity.instructions}
                        </div>
                        <div class="activity-materials">
                            <strong>üõ†Ô∏è Material:</strong> ${activity.materials}
                        </div>
                        <div class="activity-duration">‚è±Ô∏è ${activity.duration}</div>
                    </div>
                `;
            });
            
            document.getElementById('activities-content').innerHTML = html;
        }

        function getActivitiesForTheme(theme, age, location) {
            const ageGroup = age <= 5 ? 'small' : age <= 8 ? 'medium' : 'large';
            
            const activities = {
                musik: {
                    small: {
                        hemma: [
                            {
                                name: 'Musikstopp inomhus',
                                description: 'N√§r musiken stannar fryser alla i roliga poser.',
                                instructions: 'Spela musik fr√•n telefon/tablet. Barnen dansar fritt i vardagsrummet. Pausa musiken ov√§ntat. Alla m√•ste frysa. Den som r√∂r sig f√•r ge n√§sta pose-f√∂rslag.',
                                materials: 'Bluetoothh√∂gtalare eller telefon',
                                duration: '15 min'
                            },
                            {
                                name: 'Djurljud-dans',
                                description: 'Barn imiterar olika djur till musik och dansar som djuren g√∂r.',
                                instructions: 'Spela lugn musik och ropa ut olika djur. Barnen dansar och l√•ter som djuret. V√§xla mellan katt, elefant, f√•gel. Perfekt f√∂r vardagsrum.',
                                materials: 'Bluetoothh√∂gtalare, lista p√• djur',
                                duration: '15 min'
                            }
                        ],
                        utomhus: [
                            {
                                name: 'Musikparad utomhus',
                                description: 'Marschera runt i tr√§dg√•rden med hemmagjorda instrument.',
                                instructions: 'G√∂r enkla instrument (skramla i burkar, tamburin av papptallrikar). Marschera i k√∂ runt tr√§dg√•rden till musik. Barnen turas om att leda paraden.',
                                materials: 'Burkar, ris, papptallrikar, tejp, portabel h√∂gtalare',
                                duration: '20 min'
                            },
                            {
                                name: 'Naturens musik',
                                description: 'Uppt√§ck ljud i naturen och skapa musik med naturmaterial.',
                                instructions: 'Samla pinnar, stenar, l√∂v. Experimentera med ljud - klappa pinnar, raschla l√∂v, sl√§ppa stenar i hinkar. Skapa "naturorkester".',
                                materials: 'Hinkar, naturmaterial, portabel h√∂gtalare',
                                duration: '25 min'
                            }
                        ],
                        lokal: [
                            {
                                name: 'Stor musikcirkel',
                                description: 'Alla sitter i stor cirkel och sjunger tillsammans.',
                                instructions: 'Stora lokalen ger plats f√∂r stor cirkel. Sjung bekanta barnvisor. Anv√§nd enkla r√∂relser. L√•t barnen f√∂resl√• l√•tar.',
                                materials: 'Ljudanl√§ggning i lokalen, s√•ngbok',
                                duration: '20 min'
                            }
                        ]
                    },
                    medium: {
                        hemma: [
                            {
                                name: 'Hemmagjorda instrument-verkstad',
                                description: 'Tillverka riktiga instrument av √•tervinning i k√∂ket.',
                                instructions: 'Station vid k√∂ksbordet: Maracas av tomma yoghurtburkar + ris. Gitarrer av skokartonger + gummiband. Trummor av konservburkar + ballonger som trumskinn.',
                                materials: 'Yoghurtburkar, ris, skokartonger, gummiband, konservburkar, ballonger',
                                duration: '30 min'
                            }
                        ],
                        utomhus: [
                            {
                                name: 'Utomhus-karaoke',
                                description: 'Karaoke i tr√§dg√•rden med naturlig akustik.',
                                instructions: 'S√§tt upp portabel karaoke-h√∂gtalare. Skapa "scen" med filt eller matta. Barnen turas om att sjunga favoritl√•tar. Andra sitter p√• gr√§set och hejar.',
                                materials: 'Karaoke-h√∂gtalare, mikrofon, filt, f√∂rl√§ngningssladd',
                                duration: '25 min'
                            }
                        ],
                        lokal: [
                            {
                                name: 'Stor musikproduktion',
                                description: 'Skapa musikal med roller och dans.',
                                instructions: 'Dela in i grupper: s√•ngare, dansare, instrument. √ñva in enkel musikal baserat p√• bekant saga. Framf√∂r f√∂r varandra i lokalens stora utrymme.',
                                materials: 'Lokalens ljudsystem, enkla kostymer, rekvisita',
                                duration: '35 min'
                            }
                        ]
                    },
                    large: {
                        hemma: [
                            {
                                name: 'Hemma-DJ-studio',
                                description: 'L√§r grunderna i DJ-mixning hemma vid datorn.',
                                instructions: 'Anv√§nd gratis DJ-app p√• dator/tablet. L√§r fade in/out, beatmatching. Varje barn f√•r 3 min att "mixa". Andra lyssnar via h√∂rlurar och ger feedback.',
                                materials: 'Dator/tablet, DJ-app, h√∂rlurar, Bluetooth-h√∂gtalare',
                                duration: '30 min'
                            }
                        ],
                        utomhus: [
                            {
                                name: 'Utomhus-dansfest',
                                description: 'Stor dansfest i tr√§dg√•rden med ljud och ljus.',
                                instructions: 'S√§tt upp kraftig musikanl√§ggning utomhus. Skapa dansomr√•de p√• gr√§s/terass. L√§gg till disco-ljus om det √§r kv√§ll. Arrangera danskonkurrens.',
                                materials: 'Kraftig h√∂gtalare, f√∂rl√§ngningssladd, disco-ljus, ljudlista',
                                duration: '40 min'
                            }
                        ],
                        lokal: [
                            {
                                name: 'Professionell musikstudio',
                                description: 'Anv√§nd lokalens utrustning f√∂r att spela in egen l√•t.',
                                instructions: 'Om lokalen har bra ljudsystem, spela in gemensam l√•t. Dela roller: rappare, s√•ngare, beatbox. Spela in med telefon. Lyssna p√• resultatet tillsammans.',
                                materials: 'Lokalens ljudsystem, telefon f√∂r inspelning, mikrofoner',
                                duration: '45 min'
                            }
                        ]
                    }
                },
                fotboll: {
                    small: {
                        hemma: [
                            {
                                name: 'Fotbollsbowling inomhus',
                                description: 'Rulla mjuk fotboll mot plastflaskor i korridoren.',
                                instructions: 'St√§ll upp tomma plastflaskor i korridoren eller vardagsrummet. Anv√§nd mjuk inomhusboll. Barnen rullar bollen f√∂rsiktigt mot "k√§glorna".',
                                materials: 'Mjuk inomhusboll, 6-10 plastflaskor',
                                duration: '15 min'
                            }
                        ],
                        utomhus: [
                            {
                                name: 'Mini-fotbollsmatch',
                                description: '√Ñkta fotboll p√• gr√§smattan med sm√• m√•l.',
                                instructions: 'S√§tt upp sm√• m√•l (k√∂p eller improvisera med koner). Spela 2 mot 2 eller 3 mot 3. Korta matcher (5 min). Alla f√•r vara m√•lvakt.',
                                materials: 'Fotboll, sm√• m√•l eller koner, eventuellt n√§tverk',
                                duration: '25 min'
                            }
                        ],
                        lokal: [
                            {
                                name: 'Inomhusfotboll med mjuka bollar',
                                description: 'Fotboll i stor lokal med s√§kra mjuka bollar.',
                                instructions: 'Anv√§nd mjuka skumbollar eller ballonger. Markera m√•l med tejp p√• v√§gg. Spela f√∂rsiktigt f√∂r att inte skada inredning.',
                                materials: 'Mjuka skumbollar, tejp f√∂r m√•lmarkering',
                                duration: '20 min'
                            }
                        ]
                    },
                    medium: {
                        hemma: [
                            {
                                name: 'Fotbollsskicklighetst√§vling',
                                description: 'Teknikt√§vling i tr√§dg√•rden med hinderbanor.',
                                instructions: 'S√§tt upp koner f√∂r dribling. Skjut p√• sm√• m√•l fr√•n olika avst√•nd. Jonglering-utmaning. Tidstagning f√∂r varje station.',
                                materials: 'Fotboll, koner, sm√• m√•l, tidtagarur',
                                duration: '30 min'
                            }
                        ],
                        utomhus: [
                            {
                                name: 'Fotbollsolympiad',
                                description: 'Flera fotbollsstationer utomhus med olika utmaningar.',
                                instructions: 'Station 1: M√•lskytte. Station 2: Dribling. Station 3: Inl√§gg. Station 4: Straff. Rotera mellan stationer. Alla vinner medaljer.',
                                materials: 'Fotbollar, koner, m√•l, medaljer, station-skyltar',
                                duration: '35 min'
                            }
                        ],
                        lokal: [
                            {
                                name: 'Inomhus-fotbollsturnering',
                                description: 'Organiserad turnering i stor lokal med lag.',
                                instructions: 'Dela in i lag. Spela korta matcher (7 min). Gruppspel f√∂ljt av semifinal och final. Anv√§nd mindre bollar f√∂r inomhusytan.',
                                materials: 'Inomhusbollar, m√•l, domarvissla, po√§ngtavla',
                                duration: '40 min'
                            }
                        ]
                    },
                    large: {
                        hemma: [
                            {
                                name: 'Fotbollsstrategi och analys',
                                description: 'L√§r fotbollstaktik och tr√§na avancerade tekniker.',
                                instructions: 'Rita upp taktik p√• whiteboard. √ñva formationer. Diskutera professionella spelare. Kombinera teori med praktik i tr√§dg√•rden.',
                                materials: 'Whiteboard, pennor, fotboll, koner f√∂r formationer',
                                duration: '35 min'
                            }
                        ],
                        utomhus: [
                            {
                                name: 'Fullskalig fotbollsmatch',
                                description: 'Riktig 11-manna fotboll (anpassat efter antal barn).',
                                instructions: 'Organisera riktig match med regler, domare, byten. Spela tv√• halvlekar (15 min var). Alla f√•r spela olika positioner.',
                                materials: 'Fotboll, stora m√•l, domarvissla, positionsband',
                                duration: '45 min'
                            }
                        ],
                        lokal: [
                            {
                                name: 'Futsal-turnering',
                                description: 'Professionell inomhusturnering med futsal-regler.',
                                instructions: 'L√§r futsal-regler (mindre lag, bouncing ball). Organisera professionell turnering med slutspel. Tidstagning och po√§ngr√§kning.',
                                materials: 'Futsal-boll, inomhusm√•l, tidtagarur, resultattavla',
                                duration: '50 min'
                            }
                        ]
                    }
                },
                prinsessor: {
                    small: {
                        hemma: [
                            {
                                name: 'Prinsesskl√§dsel hemma',
                                description: 'Kl√§ ut sig till prinsessor med f√∂r√§ldrarnas kl√§der.',
                                instructions: 'Anv√§nd f√∂r√§ldrarnas gamla kl√§der, smycken, skor. Hj√§lp barnen kl√§ ut sig. Ta foton framf√∂r hemmets finaste bakgrund (trappa, bokhylla).',
                                materials: 'Utkl√§dningskl√§der, smycken, skor, kamera/telefon',
                                duration: '20 min'
                            }
                        ],
                        utomhus: [
                            {
                                name: 'Prinsess-tr√§dg√•rds√§ventyr',
                                description: 'Leta efter "√§delstenar" och magiska ting i tr√§dg√•rden.',
                                instructions: 'G√∂mma glittriga stenar, plast-√§delstenar i tr√§dg√•rden. Prinsessorna letar skatter. Skapa sagomilj√∂ bland blommor och tr√§d.',
                                materials: 'Plast√§delstenar, glitter, sm√• hinkar f√∂r "skatter"',
                                duration: '25 min'
                            }
                        ],
                        lokal: [
                            {
                                name: 'Stort prinsessslott',
                                description: 'F√∂rvandla lokalen till ett slott med rum f√∂r olika aktiviteter.',
                                instructions: 'Dela lokalen i "rum": sovrum, balsal, thronssal. L√•t prinsessorna utforska och leka rollspel i olika delar.',
                                materials: 'Slottdekorationer, skyltar f√∂r olika rum',
                                duration: '30 min'
                            }
                        ]
                    },
                    medium: {
                        hemma: [
                            {
                                name: 'Prinsess-sminkning hemma',
                                description: 'Sminka varandra som prinsessor vid badrumsspegeln.',
                                instructions: 'Anv√§nd ansiktsf√§rger och glitter. S√§tt upp station vid badrumsbordet. Hj√§lp barnen sminka varandra. Ta innan/efter-foton.',
                                materials: 'Ansiktsf√§rger, glitter, borstar, v√•tservetter',
                                duration: '25 min'
                            }
                        ],
                        utomhus: [
                            {
                                name: 'Prinsess√§ventyr i skogen',
                                description: '√Ñventyr utomhus d√§r prinsessorna r√§dder djur och l√∂ser g√•tor.',
                                instructions: 'Skapa √§ventyrsresa i tr√§dg√•rden/skogen. Olika stationer med utmaningar: r√§dda enh√∂rning, l√∂sa trollg√•ta, hitta magisk blomma.',
                                materials: 'Leksaksdjur, g√•tor utskrivna, "magiska" f√∂rem√•l',
                                duration: '35 min'
                            }
                        ],
                        lokal: [
                            {
                                name: 'Kunglig hovbal',
                                description: 'Organisera riktig bal med dans och etikett i stor lokal.',
                                instructions: 'L√§r hovdans och artighetsfraser. Arrangera bal med presentationer, dans, kunglig middag. Anv√§nd lokalens utrymme f√∂r stor dansyta.',
                                materials: 'Klassisk musik, utkl√§dning, "hovmannakl√§der", lokalens ljudsystem',
                                duration: '40 min'
                            }
                        ]
                    },
                    large: {
                        hemma: [
                            {
                                name: 'Prinsess-designer workshop',
                                description: 'Designa och sy egna prinsesskl√§nningar hemma.',
                                instructions: 'Anv√§nd tygrester, tyll, band. Skapa enkla kl√§nningar eller kjolar. L√§r grundl√§ggande s√∂mnad. Modenschau hemma i vardagsrummet.',
                                materials: 'Tyg, tyll, band, s√§kerhetsn√•lar, sax, symaskinshj√§lp fr√•n vuxen',
                                duration: '45 min'
                            }
                        ],
                        utomhus: [
                            {
                                name: 'Episkt prinsess√§ventyr',
                                description: 'Stort √§ventyr med quests, dragar och riddare utomhus.',
                                instructions: 'Skapa √§ventyrsber√§ttelse med flera kapitel. Olika platser i tr√§dg√•rd/omr√•de = olika l√§nder. L√∂s komplexa utmaningar, r√§dda kungariket.',
                                materials: 'Kartunderlag, komplexa g√•tor, kostymer f√∂r rollspel',
                                duration: '60 min'
                            }
                        ],
                        lokal: [
                            {
                                name: 'Prinsess-teaterproduktion',
                                description: 'Skriv och framf√∂r egen prinsess-pj√§s.',
                                instructions: 'Skriv manus tillsammans. Dela roller: prinsessor, riddare, troll. √ñva replik och r√∂relser. Framf√∂r f√∂r publik i lokalens stora utrymme.',
                                materials: 'Papper f√∂r manus, kostymer, rekvisita, lokalens scen-m√∂jligheter',
                                duration: '50 min'
                            }
                        ]
                    }
                }
            };

            const themeActivities = activities[theme];
            if (!themeActivities) return [];
            
            const ageActivities = themeActivities[ageGroup];
            if (!ageActivities) return [];
            
            const locationActivities = ageActivities[location];
            return locationActivities || ageActivities.hemma || [];
        }

        function generateInvitation(theme) {
            const invitations = {
                musik: [
                    "üéµ V√§lkommen till ett kalas fyllt av rytmer, s√•ng och skratt! Kom och dansa loss med oss! üé∂",
                    "üé§ Hej musik-v√§nner! Vi bjuder in till ett kalas d√§r vi ska sjunga, dansa och ha det s√• kul! üéµ",
                    "üé∂ L√•t oss fira tillsammans med musik och dans! Ett kalas som kommer f√• alla att dansa! üï∫üíÉ"
                ],
                prinsessor: [
                    "üëë Du √§r inbjuden till en magisk prinsessbal! Kom i din finaste kl√§nning och l√•t oss fira som riktiga kungligheter! ‚ú®",
                    "üè∞ V√§lkommen till v√•rt sagoslott! Vi ska ha prinsessbal med dans, lek och magi! üë∏",
                    "üíé En kunglig inbjudan v√§ntar dig! Kom och fira som en riktig prinsessa eller prins! üëë"
                ],
                pyssel: [
                    "üé® Kom och skapa magi med oss! Ett kalas fyllt av pyssel, f√§rger och kreativitet v√§ntar! ‚úÇÔ∏è",
                    "üñåÔ∏è Alla konstn√§rer √§r v√§lkomna! Vi ska pyssla, m√•la och skapa tillsammans! üé®",
                    "‚úÇÔ∏è Tid f√∂r kreativitet! Kom med tomma h√§nder, g√• hem med konstverket du gjort! üé®"
                ],
                fotboll: [
                    "‚öΩ Fotbollskalas! Kom med fotbollsskor och gl√§dje - vi ska spela, springa och ha kul! ü•Ö",
                    "üèÜ V√§lkommen till fotbollsfest! Kom som du √§r och var redo f√∂r action p√• planen! ‚öΩ",
                    "‚öΩ Dags f√∂r fotboll och skoj! Ta med dig sporthum√∂ret och kom och fira med oss! üèÉ‚Äç‚ôÇÔ∏è"
                ]
            };

            const themeInvitations = invitations[theme] || [
                "üéâ Du √§r inbjuden till ett super-kul kalas! Kom och fira med oss! üéà"
            ];

            const invitation = themeInvitations[currentInvitationIndex % themeInvitations.length];
            
            const fullInvitation = `${invitation}

üìÖ Datum: [Datum]
üïê Tid: 14:00-16:30
üìç Plats: [Adress]
üéà √Ölder: ${formData.age} √•r
üë• Vi blir: ${formData.guestCount} barn

OSA till [telefonnummer] senast [datum]

Vi ses! üéä`;

            const html = `
                <div class="invitation-box">
                    <button class="copy-btn" onclick="copyInvitation()">Kopiera text</button>
                    <pre id="invitation-text">${fullInvitation}</pre>
                </div>
                <button style="background: #007bff; color: white; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer; margin-top: 10px;" onclick="generateNewInvitation('${theme}')">
                    üîÑ Generera ny inbjudan
                </button>
            `;
            
            document.getElementById('invitation-content').innerHTML = html;
        }

        function generateNewInvitation(theme) {
            currentInvitationIndex++;
            generateInvitation(theme);
        }

        function copyInvitation() {
            const text = document.getElementById('invitation-text').textContent;
            navigator.clipboard.writeText(text).then(() => {
                const btn = document.querySelector('.copy-btn');
                const originalText = btn.textContent;
                btn.textContent = 'Kopierat! ‚úÖ';
                setTimeout(() => {
                    btn.textContent = originalText;
                }, 2000);
            });
        }

        function generateFoodSuggestions(theme, budget) {
            const foods = {
                musik: {
                    lag: [
                        { name: 'Musiknot-sm√∂rg√•sar', description: 'Sm√∂rg√•sar klippta som musiknoter', price: 'üí∞', cost: '~80 kr' },
                        { name: 'Rytm-popcorn', description: 'Hemgjord popcorn i musiktemat', price: 'üí∞', cost: '~40 kr' }
                    ],
                    medel: [
                        { name: 'Xylofon-fruktfat', description: 'Frukt arrangerat som xylofon i f√§rgordning', price: 'üí∏', cost: '~150 kr' },
                        { name: 'Musiknot-muffins', description: 'Cupcakes med musiknoter i glasyr', price: 'üí∏', cost: '~120 kr' }
                    ],
                    hog: [
                        { name: 'DJ-t√•rta med chokladskivor', description: 'Professionell t√•rta designad som DJ-bord', price: 'üíé', cost: '~400 kr' },
                        { name: 'Smoothie-bar med musik', description: 'F√§rgglada smoothies serverade med musik', price: 'üíé', cost: '~300 kr' }
                    ]
                },
                prinsessor: {
                    lag: [
                        { name: 'Prinsess-sm√∂rg√•sar', description: 'Sm√∂rg√•sar i kronform', price: 'üí∞', cost: '~90 kr' },
                        { name: 'Rosa popcorn', description: 'Hemgjord rosa popcorn', price: 'üí∞', cost: '~50 kr' }
                    ],
                    medel: [
                        { name: 'Prinsess-cupcakes', description: 'Rosa cupcakes med kronor och glitter', price: 'üí∏', cost: '~140 kr' },
                        { name: 'Kunglig fruktdryck', description: 'Rosa lemonad med glitter', price: 'üí∏', cost: '~100 kr' }
                    ],
                    hog: [
                        { name: 'Slottst√•rta', description: 'T√•rta formad som ett slott', price: 'üíé', cost: '~500 kr' },
                        { name: 'Afternoon tea f√∂r barn', description: 'Minipajer, scones och te-koppar', price: 'üíé', cost: '~350 kr' }
                    ]
                }
            };

            const budgetFoods = foods[theme] ? foods[theme][budget] || foods[theme].medel : [
                { name: 'Temaanpassade snacks', description: 'Enkla snacks anpassade efter temat', price: 'üí∞', cost: '~100 kr' }
            ];

            let html = '';
            budgetFoods.forEach(food => {
                html += `
                    <div class="food-item">
                        <div>
                            <div style="font-weight: bold;">${food.name}</div>
                            <div style="color: #666; font-size: 0.9rem;">${food.description}</div>
                            <div style="color: #888; font-size: 0.8rem;">${food.cost}</div>
                        </div>
                        <div class="price-tag">${food.price}</div>
                    </div>
                `;
            });
            
            document.getElementById('food-content').innerHTML = html;
        }

        function generateAccessories(theme, budget) {
            const accessories = {
                musik: {
                    lag: [
                        { name: 'Musiknot-ballonger', description: 'Svarta ballonger med vita musiknoter', price: 'üí∞', store: 'Panduro eller Dollarstore', cost: '~60 kr' },
                        { name: 'Hem-DJ-station', description: 'Kartong gjord till DJ-bord', price: 'üí∞', store: 'Hemmagjord av kartonger', cost: '~20 kr' }
                    ],
                    medel: [
                        { name: 'Mini-discolampa', description: 'LED-lampa som projicerar f√§rger', price: 'üí∏', store: 'Elgiganten eller Clas Ohlson', cost: '~150 kr' },
                        { name: 'Karaoke-mikrofon', description: 'Bluetooth-mikrofon f√∂r karaoke', price: 'üí∏', store: 'Media Markt', cost: '~200 kr' }
                    ],
                    hog: [
                        { name: 'Professionell DJ-utrustning', description: 'Hyra av riktigt DJ-bord', price: 'üíé', store: 'Hyra fr√•n Ljudia', cost: '~400 kr/dag' },
                        { name: 'Live-band f√∂r barn', description: 'Musikband som spelar barnmusik', price: 'üíé', store: 'Booka via Barnunderh√•llning.se', cost: '~800 kr' }
                    ]
                }
            };

            const budgetAccessories = accessories[theme] ? accessories[theme][budget] || accessories[theme].medel : [
                { name: 'Temaballonger', description: 'Ballonger i temats f√§rger', price: 'üí∞', store: 'Panduro', cost: '~50 kr' }
            ];

            let html = '';
            budgetAccessories.forEach(item => {
                html += `
                    <div class="accessories-item">
                        <div style="font-weight: bold; margin-bottom: 8px;">${item.name}</div>
                        <div style="color: #666; margin-bottom: 5px;">${item.description}</div>
                        <div style="font-size: 0.9rem; color: #888;">üìç ${item.store}</div>
                        <div style="font-size: 0.9rem; color: #888;">üí∞ ${item.cost}</div>
                        <div style="margin-top: 5px;">${item.price}</div>
                    </div>
                `;
            });
            
            document.getElementById('accessories-content').innerHTML = html;
        }

        function showPremiumModal() {
            document.getElementById('premium-modal').classList.remove('hidden');
        }

        function closePremiumModal() {
            document.getElementById('premium-modal').classList.add('hidden');
        }

        function upgradeToPremium() {
            // Simulate premium upgrade
            localStorage.setItem('kalaskollen-premium', 'true');
            isPremium = true;
            updatePremiumAccess();
            closePremiumModal();
            
            // Show success message
            alert('Grattis! Du har nu Kalaskollen Premium! üéâ\nAlla teman √§r nu uppl√•sta!');
        }

        function updatePremiumAccess() {
            if (isPremium) {
                document.querySelectorAll('.interest-card.premium').forEach(card => {
                    card.classList.remove('premium');
                    const lockIcon = card.querySelector('.lock-icon');
                    if (lockIcon) {
                        lockIcon.remove();
                    }
                });
            }
        }

        function resetForm() {
            // Reset form data
            formData = {
                age: '',
                theme: '',
                guestCount: '',
                budget: '',
                location: '',
                foodPrefs: ''
            };
            
            // Reset form fields
            document.getElementById('age').value = '';
            document.getElementById('guestCount').value = '';
            document.getElementById('foodPrefs').value = '';
            
            // Reset selections
            document.querySelectorAll('.selected').forEach(el => el.classList.remove('selected'));
            document.getElementById('theme-confirmation').classList.add('hidden');
            
            // Reset validation
            validateForm();
            
            // Show form
            document.getElementById('results-container').classList.add('hidden');
            document.getElementById('form-container').classList.remove('hidden');
            
            // Reset invitation index
            currentInvitationIndex = 0;
        }
    </script>
</body>
</html>